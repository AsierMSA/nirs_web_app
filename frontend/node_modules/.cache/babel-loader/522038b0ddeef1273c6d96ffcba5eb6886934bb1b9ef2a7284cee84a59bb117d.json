{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\OneDrive - Universidad de Deusto\\\\Documentos\\\\nirs_web_app\\\\frontend\\\\src\\\\components\\\\InterpretationViewer.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport '../styles/components.css';\n\n/**\r\n * Brain region visualization component with enhanced highlighting\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BrainRegionsImage = ({\n  region\n}) => {\n  _s();\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const containerRef = useRef(null);\n  const imageRef = useRef(null);\n  const [highlightPosition, setHighlightPosition] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Better region mapping with more precise positioning\n  useEffect(() => {\n    if (imageLoaded && containerRef.current) {\n      const container = containerRef.current;\n      const rect = container.getBoundingClientRect();\n\n      // Improved positioning map for brain regions\n      let position = {\n        x: 0.5,\n        y: 0.5\n      }; // default center\n\n      if (region === 'prefrontal') {\n        position = {\n          x: 0.2,\n          y: 0.2\n        };\n      } else if (region === 'central_frontal') {\n        position = {\n          x: 0.5,\n          y: 0.2\n        };\n      } else if (region === 'lateral_frontal') {\n        position = {\n          x: 0.8,\n          y: 0.2\n        };\n      } else if (region === 'motor') {\n        position = {\n          x: 0.5,\n          y: 0.4\n        };\n      } else if (region === 'temporal') {\n        position = {\n          x: 0.8,\n          y: 0.5\n        };\n      } else if (region === 'parietal') {\n        position = {\n          x: 0.5,\n          y: 0.6\n        };\n      }\n      setHighlightPosition({\n        x: position.x * rect.width,\n        y: position.y * rect.height,\n        r: 30\n      });\n    }\n  }, [region, imageLoaded]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    style: {\n      position: 'relative',\n      width: '100%',\n      maxWidth: '240px',\n      height: '200px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      ref: imageRef,\n      src: \"/assets/feature_importance.png\",\n      alt: \"Brain Region Visualization\",\n      style: {\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain'\n      },\n      onLoad: () => setImageLoaded(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), imageLoaded && /*#__PURE__*/_jsxDEV(\"svg\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        pointerEvents: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: highlightPosition.x,\n        cy: highlightPosition.y,\n        r: highlightPosition.r,\n        fill: \"rgba(255, 87, 34, 0.2)\",\n        stroke: \"#ff5722\",\n        strokeWidth: 3,\n        opacity: 0.8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * Main interpretation viewer component with enhanced scientific explanations\r\n */\n_s(BrainRegionsImage, \"cIsFjHnjTYODODMKVtNPLNpTP7Y=\");\n_c = BrainRegionsImage;\nfunction InterpretationViewer({\n  interpretationData,\n  topFeatures = []\n}) {\n  _s2();\n  const [activeTab, setActiveTab] = useState('features');\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const [showHelpModal, setShowHelpModal] = useState(false);\n  useEffect(() => {\n    // Handle top features from ML analysis\n    if (topFeatures && topFeatures.length > 0) {\n      var _interpretationData$f;\n      const topFeature = topFeatures[0];\n      if (interpretationData !== null && interpretationData !== void 0 && (_interpretationData$f = interpretationData.feature_explanations) !== null && _interpretationData$f !== void 0 && _interpretationData$f[topFeature]) {\n        setSelectedFeature(topFeature);\n      } else if (interpretationData && topFeature) {\n        if (!interpretationData.feature_explanations) {\n          interpretationData.feature_explanations = {};\n        }\n        const parts = topFeature.split('_');\n        const region = parts[0] || 'prefrontal';\n        const wavelength = parts[1] || '850';\n        const timeWindow = parts[2] || 'early';\n\n        // Enhanced feature explanation with scientific context\n        interpretationData.feature_explanations[topFeature] = {\n          'region': region,\n          'region_function': getRegionFunction(region),\n          'measure_description': getMeasureDescription(timeWindow, parts[3] || 'mean'),\n          'wavelength_meaning': wavelength === '850' ? '850nm wavelength - primarily sensitive to oxygenated hemoglobin (HbO)' : '760nm wavelength - primarily sensitive to deoxygenated hemoglobin (HbR)'\n        };\n        setSelectedFeature(topFeature);\n      }\n    } else if (interpretationData && interpretationData.feature_explanations) {\n      const features = Object.keys(interpretationData.feature_explanations);\n      if (features.length > 0) {\n        setSelectedFeature(features[0]);\n      } else {\n        // Create default explanation if none exists\n        const defaultFeature = 'prefrontal_850_early_mean';\n        interpretationData.feature_explanations[defaultFeature] = {\n          'region': 'prefrontal',\n          'region_function': 'Executive functions, working memory, and decision-making processes',\n          'measure_description': 'Average activation during early response phase (1-4s post-stimulus)',\n          'wavelength_meaning': '850nm wavelength - primarily sensitive to oxygenated hemoglobin (HbO)'\n        };\n        setSelectedFeature(defaultFeature);\n      }\n    }\n  }, [interpretationData, topFeatures]);\n  if (!interpretationData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"interpretation-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: \"Results Interpretation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Analysis in progress. Results will be available once processing is complete.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this);\n  }\n  const region_descriptions = interpretationData.region_descriptions || {};\n  const feature_explanations = interpretationData.feature_explanations || {};\n  const event_descriptions = interpretationData.event_descriptions || createDefaultEventDescriptions();\n\n  // Sort features by importance then region\n  const sortedFeatures = Object.keys(feature_explanations).sort((a, b) => {\n    if (topFeatures.includes(a) && !topFeatures.includes(b)) return -1;\n    if (!topFeatures.includes(a) && topFeatures.includes(b)) return 1;\n    const regionA = (a === null || a === void 0 ? void 0 : a.split('_')[0]) || '';\n    const regionB = (b === null || b === void 0 ? void 0 : b.split('_')[0]) || '';\n    return regionA.localeCompare(regionB);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"interpretation-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"section-title\",\n      children: \"Neurophysiological Interpretation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'features' ? 'active' : ''}`,\n        onClick: () => setActiveTab('features'),\n        children: \"Feature Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'events' ? 'active' : ''}`,\n        onClick: () => setActiveTab('events'),\n        children: \"Experimental Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'regions' ? 'active' : ''}`,\n        onClick: () => setActiveTab('regions'),\n        children: \"Brain Regions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === 'processing' ? 'active' : ''}`,\n        onClick: () => setActiveTab('processing'),\n        children: \"Methodology\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-content\",\n      children: [activeTab === 'features' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"features-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feature-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Discriminative Features\", /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"help-button\",\n              onClick: () => setShowHelpModal(true),\n              children: \"?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this), sortedFeatures.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: sortedFeatures.slice(0, 15).map(feature => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `\n                          ${selectedFeature === feature ? 'selected' : ''} \n                          ${topFeatures.length > 0 && feature === topFeatures[0] ? 'most-important' : ''}\n                          `,\n              onClick: () => setSelectedFeature(feature),\n              children: [formatFeatureName(feature), topFeatures.length > 0 && feature === topFeatures[0] && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"top-badge\",\n                children: \"HIGHEST DISCRIMINATIVE POWER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 29\n              }, this)]\n            }, feature, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No feature data available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 15\n        }, this), selectedFeature && feature_explanations[selectedFeature] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feature-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: formatFeatureName(selectedFeature)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"brain-image-container\",\n              children: /*#__PURE__*/_jsxDEV(BrainRegionsImage, {\n                region: feature_explanations[selectedFeature].region\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"explanation\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Brain Region:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 26\n                }, this), \" \", capitalize(feature_explanations[selectedFeature].region || 'Unknown')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Neural Function:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 26\n                }, this), \" \", feature_explanations[selectedFeature].region_function || 'Unknown']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Measurement:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 26\n                }, this), \" \", feature_explanations[selectedFeature].measure_description || 'Unknown']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NIRS Signal:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 26\n                }, this), \" \", feature_explanations[selectedFeature].wavelength_meaning || 'Unknown']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Physiological Interpretation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 26\n                }, this), \" \", getPhysiologicalInterpretation(selectedFeature)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }, this), activeTab === 'events' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"events-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Experimental Task Descriptions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"explanation-text\",\n          children: \"Each event represents a distinct cognitive or motor task presented during the NIRS recording session.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"event-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Task Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Neurocognitive Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.entries(event_descriptions).map(([event, description]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: event\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 23\n              }, this)]\n            }, event, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"note\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Note:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 35\n          }, this), \" Task duration typically ranges from 10-30 seconds with inter-stimulus intervals of 15-45 seconds to allow hemodynamic response to return to baseline.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }, this), activeTab === 'regions' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"regions-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Functional Neuroanatomy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"explanation-text\",\n          children: \"NIRS channels record hemodynamic activity from these cortical regions, each associated with specific cognitive and motor functions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"region-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Cortical Region\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Primary Functions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Role in Experimental Tasks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.entries(getEnhancedRegionDescriptions(region_descriptions)).map(([region, details]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: capitalize(region)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: details.function || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: details.examples || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 23\n              }, this)]\n            }, region, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 13\n      }, this), activeTab === 'processing' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"processing-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Methodological Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"explanation-text\",\n          children: \"Understanding the signal processing pipeline is essential for proper interpretation of NIRS results.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"accordion\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"accordion-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"accordion-header\",\n              children: \"\\u2705 Signal Processing & Feature Extraction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"accordion-content\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Temporal Filtering:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 27\n                  }, this), \" Bandpass (0.01-0.5 Hz) to isolate hemodynamic response and remove physiological noise\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Spatial Filtering:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 27\n                  }, this), \" Channel-based signal quality assessment and selection\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Feature Extraction:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 27\n                  }, this), \" Amplitude, slope, and mean values across multiple time windows (early: 1-4s, middle: 5-10s, late: 11-15s)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Feature Selection:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 27\n                  }, this), \" F-score ranking to identify most discriminative signal components\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"accordion-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"accordion-header\",\n              children: \"\\uD83D\\uDCCA Machine Learning Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"accordion-content\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Classification Models:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 27\n                  }, this), \" SVM (Support Vector Machine), Random Forest, LDA (Linear Discriminant Analysis), and Ridge Classifier\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Validation:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 27\n                  }, this), \" Block cross-validation to preserve temporal structure and prevent data leakage\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Parameter Tuning:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 27\n                  }, this), \" Grid search optimization for each classifier\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Temporal Bias Check:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 27\n                  }, this), \" Statistical tests against shuffled labels to ensure pattern robustness\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"accordion-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"accordion-header\",\n              children: \"\\u26A0\\uFE0F Methodological Limitations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"accordion-content\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Spatial Resolution:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 27\n                  }, this), \" Limited to cortical surface (1-3cm depth, ~1cm lateral resolution)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Motion Artifacts:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 27\n                  }, this), \" No advanced motion correction was applied\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Sample Size:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 27\n                  }, this), \" Cross-validation with limited number of trials may affect generalization\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Signal Specificity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 27\n                  }, this), \" NIRS measures both neuronal and systemic vascular changes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this), showHelpModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowHelpModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"NIRS Feature Nomenclature\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-button\",\n            onClick: () => setShowHelpModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"NIRS features follow this naming structure:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n            children: \"region_wavelength_timewindow_measure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Example:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 20\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"code\", {\n              children: \"prefrontal_850_early_mean\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Components:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Region:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 23\n              }, this), \" Cortical area (prefrontal, motor, temporal, etc.)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Wavelength:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"850nm: Primarily sensitive to oxygenated hemoglobin (HbO)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"760nm: Primarily sensitive to deoxygenated hemoglobin (HbR)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Time window:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"early: 1-4 seconds post-stimulus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"middle: 5-10 seconds post-stimulus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"late: 11-15 seconds post-stimulus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Measure:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 23\n              }, this), \" Statistical property (mean, slope, std, peak, etc.)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Physiological meaning:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 20\n            }, this), \" These features capture different aspects of the hemodynamic response, which reflects neural activity through neurovascular coupling mechanisms.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 7\n  }, this);\n}\n\n/**\r\n * Get region function based on brain region name\r\n */\n_s2(InterpretationViewer, \"wmFwkqUDmSxS3jyk2t6fTKiPO/M=\");\n_c2 = InterpretationViewer;\nfunction getRegionFunction(region) {\n  const functions = {\n    'prefrontal': 'Executive functions, working memory, attention control, and decision-making',\n    'central_frontal': 'Motor planning, inhibition, and high-level cognitive control',\n    'motor': 'Voluntary movement execution, motor sequence learning and control',\n    'lateral_frontal': 'Language production, verbal working memory, and cognitive flexibility',\n    'temporal': 'Auditory processing, language comprehension, and semantic memory',\n    'parietal': 'Spatial processing, attention, and sensorimotor integration'\n  };\n  return functions[region] || 'Cortical processing related to cognitive and motor tasks';\n}\n\n/**\r\n * Get description for different measure and time window combinations\r\n */\nfunction getMeasureDescription(timeWindow, measureType) {\n  let timeDescription = '';\n  switch (timeWindow) {\n    case 'early':\n      timeDescription = 'early response phase (1-4s post-stimulus)';\n      break;\n    case 'middle':\n      timeDescription = 'middle response phase (5-10s post-stimulus)';\n      break;\n    case 'late':\n      timeDescription = 'late response phase (11-15s post-stimulus)';\n      break;\n    default:\n      timeDescription = 'response period';\n  }\n  const measures = {\n    'mean': `Average activation during ${timeDescription}`,\n    'slope': `Rate of change in hemodynamic response during ${timeDescription}`,\n    'peak': `Maximum amplitude of response during ${timeDescription}`,\n    'std': `Variability of hemodynamic signal during ${timeDescription}`\n  };\n  return measures[measureType] || `Measurement of hemodynamic activity during ${timeDescription}`;\n}\n\n/**\r\n * Generate physiological interpretation based on feature characteristics\r\n */\nfunction getPhysiologicalInterpretation(featureName) {\n  const parts = featureName.split('_');\n  const region = parts[0];\n  const isOxy = parts[1] === '850';\n  const timeWindow = parts[2] || '';\n  let interpretation = '';\n  if (isOxy) {\n    interpretation = `Increased oxygenated hemoglobin (HbO) concentration reflects heightened neural activity in the ${region} region`;\n    if (timeWindow === 'early') {\n      interpretation += ', indicating initial neural recruitment during task processing.';\n    } else if (timeWindow === 'middle') {\n      interpretation += ', corresponding to the peak of the hemodynamic response during sustained task engagement.';\n    } else if (timeWindow === 'late') {\n      interpretation += ', representing continued neural processing or return to baseline after task completion.';\n    }\n  } else {\n    interpretation = `Changes in deoxygenated hemoglobin (HbR) concentration in the ${region} region`;\n    interpretation += ' typically show an inverse relationship with neural activity (decreasing with activation).';\n  }\n  return interpretation;\n}\n\n/**\r\n * Create default event descriptions if none are provided\r\n */\nfunction createDefaultEventDescriptions() {\n  return {\n    'Finger Sequencing': 'Sequential finger tapping task that engages fine motor control and motor sequence learning circuits primarily in motor and premotor cortices',\n    'Simple Tapping': 'Basic rhythmic finger tapping that activates primary motor cortex with minimal cognitive load',\n    'Motor Imagery': 'Mental simulation of movement without physical execution, engaging similar neural circuits as actual movement but with reduced primary motor activation',\n    'Rest': 'Baseline condition with no specific task demands, used as reference for hemodynamic response analysis',\n    'Working Memory': 'Mental manipulation and temporary storage of information, primarily engaging prefrontal and parietal cortical networks',\n    'Bimanual Coordination': 'Coordinated movement of both hands, requiring interhemispheric communication and increased cognitive-motor integration'\n  };\n}\n\n/**\r\n * Enhance region descriptions with more scientific detail\r\n */\nfunction getEnhancedRegionDescriptions(existingDescriptions) {\n  const defaultDescriptions = {\n    'prefrontal': {\n      function: 'Executive function, working memory, decision-making, cognitive control',\n      examples: 'Active during complex problem-solving, task-switching, and inhibition tasks'\n    },\n    'motor': {\n      function: 'Movement planning and execution, motor sequence learning',\n      examples: 'Primary activation during finger tapping and coordination tasks'\n    },\n    'central_frontal': {\n      function: 'Cognitive control, response inhibition, action selection',\n      examples: 'Engaged during complex motor sequences and tasks requiring controlled responses'\n    },\n    'temporal': {\n      function: 'Auditory processing, language comprehension, semantic processing',\n      examples: 'Activated during verbal instructions and auditory stimuli processing'\n    },\n    'parietal': {\n      function: 'Spatial awareness, attention, sensorimotor integration',\n      examples: 'Important for visuomotor coordination and spatial aspects of tasks'\n    }\n  };\n\n  // Merge existing descriptions with defaults\n  const enhanced = {\n    ...defaultDescriptions\n  };\n  Object.entries(existingDescriptions).forEach(([region, details]) => {\n    if (!enhanced[region]) {\n      enhanced[region] = details;\n    } else {\n      enhanced[region] = {\n        ...enhanced[region],\n        function: details.function || enhanced[region].function,\n        examples: details.examples || enhanced[region].examples\n      };\n    }\n  });\n  return enhanced;\n}\n\n/**\r\n * Format a feature name for display by capitalizing each word\r\n */\nfunction formatFeatureName(name) {\n  if (!name) return '';\n  return name.split('_').map(word => capitalize(word)).join(' ');\n}\n\n/**\r\n * Capitalize the first letter of a string\r\n */\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nexport default InterpretationViewer;\nvar _c, _c2;\n$RefreshReg$(_c, \"BrainRegionsImage\");\n$RefreshReg$(_c2, \"InterpretationViewer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","BrainRegionsImage","region","_s","imageLoaded","setImageLoaded","containerRef","imageRef","highlightPosition","setHighlightPosition","x","y","current","container","rect","getBoundingClientRect","position","width","height","r","ref","style","maxWidth","children","src","alt","objectFit","onLoad","fileName","_jsxFileName","lineNumber","columnNumber","top","left","pointerEvents","cx","cy","fill","stroke","strokeWidth","opacity","_c","InterpretationViewer","interpretationData","topFeatures","_s2","activeTab","setActiveTab","selectedFeature","setSelectedFeature","showHelpModal","setShowHelpModal","length","_interpretationData$f","topFeature","feature_explanations","parts","split","wavelength","timeWindow","getRegionFunction","getMeasureDescription","features","Object","keys","defaultFeature","className","region_descriptions","event_descriptions","createDefaultEventDescriptions","sortedFeatures","sort","a","b","includes","regionA","regionB","localeCompare","onClick","slice","map","feature","formatFeatureName","capitalize","region_function","measure_description","wavelength_meaning","getPhysiologicalInterpretation","entries","event","description","getEnhancedRegionDescriptions","details","function","examples","e","stopPropagation","_c2","functions","measureType","timeDescription","measures","featureName","isOxy","interpretation","existingDescriptions","defaultDescriptions","enhanced","forEach","name","word","join","str","charAt","toUpperCase","$RefreshReg$"],"sources":["C:/Users/PC/OneDrive - Universidad de Deusto/Documentos/nirs_web_app/frontend/src/components/InterpretationViewer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport '../styles/components.css';\r\n\r\n/**\r\n * Brain region visualization component with enhanced highlighting\r\n */\r\nconst BrainRegionsImage = ({ region }) => {\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  const containerRef = useRef(null);\r\n  const imageRef = useRef(null);\r\n  const [highlightPosition, setHighlightPosition] = useState({ x: 0, y: 0 });\r\n  \r\n  // Better region mapping with more precise positioning\r\n  useEffect(() => {\r\n    if (imageLoaded && containerRef.current) {\r\n      const container = containerRef.current;\r\n      const rect = container.getBoundingClientRect();\r\n      \r\n      // Improved positioning map for brain regions\r\n      let position = { x: 0.5, y: 0.5 }; // default center\r\n      \r\n      if (region === 'prefrontal') {\r\n        position = { x: 0.2, y: 0.2 };\r\n      } else if (region === 'central_frontal') {\r\n        position = { x: 0.5, y: 0.2 };\r\n      } else if (region === 'lateral_frontal') {\r\n        position = { x: 0.8, y: 0.2 };\r\n      } else if (region === 'motor') {\r\n        position = { x: 0.5, y: 0.4 };\r\n      } else if (region === 'temporal') {\r\n        position = { x: 0.8, y: 0.5 };\r\n      } else if (region === 'parietal') {\r\n        position = { x: 0.5, y: 0.6 };\r\n      }\r\n      \r\n      setHighlightPosition({\r\n        x: position.x * rect.width,\r\n        y: position.y * rect.height,\r\n        r: 30\r\n      });\r\n    }\r\n  }, [region, imageLoaded]);\r\n  \r\n  return (\r\n    <div ref={containerRef} style={{ position: 'relative', width: '100%', maxWidth: '240px', height: '200px' }}>\r\n      <img\r\n        ref={imageRef}\r\n        src=\"/assets/feature_importance.png\" \r\n        alt=\"Brain Region Visualization\"\r\n        style={{ width: '100%', height: '100%', objectFit: 'contain' }}\r\n        onLoad={() => setImageLoaded(true)}\r\n      />\r\n      \r\n      {imageLoaded && (\r\n        <svg style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', pointerEvents: 'none' }}>\r\n          <circle\r\n            cx={highlightPosition.x}\r\n            cy={highlightPosition.y}\r\n            r={highlightPosition.r}\r\n            fill=\"rgba(255, 87, 34, 0.2)\"\r\n            stroke=\"#ff5722\"\r\n            strokeWidth={3}\r\n            opacity={0.8}\r\n          />\r\n        </svg>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Main interpretation viewer component with enhanced scientific explanations\r\n */\r\nfunction InterpretationViewer({ interpretationData, topFeatures=[] }) {\r\n    const [activeTab, setActiveTab] = useState('features');\r\n    const [selectedFeature, setSelectedFeature] = useState(null);\r\n    const [showHelpModal, setShowHelpModal] = useState(false);\r\n    \r\n    useEffect(() => {\r\n      // Handle top features from ML analysis\r\n      if (topFeatures && topFeatures.length > 0) {\r\n        const topFeature = topFeatures[0];\r\n        \r\n        if (interpretationData?.feature_explanations?.[topFeature]) {\r\n          setSelectedFeature(topFeature);\r\n        } \r\n        else if (interpretationData && topFeature) {\r\n          if (!interpretationData.feature_explanations) {\r\n            interpretationData.feature_explanations = {};\r\n          }\r\n          \r\n          const parts = topFeature.split('_');\r\n          const region = parts[0] || 'prefrontal';\r\n          const wavelength = parts[1] || '850';\r\n          const timeWindow = parts[2] || 'early';\r\n          \r\n          // Enhanced feature explanation with scientific context\r\n          interpretationData.feature_explanations[topFeature] = {\r\n            'region': region,\r\n            'region_function': getRegionFunction(region),\r\n            'measure_description': getMeasureDescription(timeWindow, parts[3] || 'mean'),\r\n            'wavelength_meaning': wavelength === '850' ? \r\n              '850nm wavelength - primarily sensitive to oxygenated hemoglobin (HbO)' : \r\n              '760nm wavelength - primarily sensitive to deoxygenated hemoglobin (HbR)'\r\n          };\r\n          \r\n          setSelectedFeature(topFeature);\r\n        }\r\n      }\r\n      else if (interpretationData && interpretationData.feature_explanations) {\r\n        const features = Object.keys(interpretationData.feature_explanations);\r\n        if (features.length > 0) {\r\n          setSelectedFeature(features[0]);\r\n        }\r\n        else {\r\n          // Create default explanation if none exists\r\n          const defaultFeature = 'prefrontal_850_early_mean';\r\n          \r\n          interpretationData.feature_explanations[defaultFeature] = {\r\n            'region': 'prefrontal',\r\n            'region_function': 'Executive functions, working memory, and decision-making processes',\r\n            'measure_description': 'Average activation during early response phase (1-4s post-stimulus)',\r\n            'wavelength_meaning': '850nm wavelength - primarily sensitive to oxygenated hemoglobin (HbO)'\r\n          };\r\n          \r\n          setSelectedFeature(defaultFeature);\r\n        }\r\n      }\r\n    }, [interpretationData, topFeatures]);\r\n    \r\n    if (!interpretationData) {\r\n      return (\r\n        <div className=\"interpretation-container\">\r\n          <h3 className=\"section-title\">Results Interpretation</h3>\r\n          <p>Analysis in progress. Results will be available once processing is complete.</p>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    const region_descriptions = interpretationData.region_descriptions || {};\r\n    const feature_explanations = interpretationData.feature_explanations || {};\r\n    const event_descriptions = interpretationData.event_descriptions || createDefaultEventDescriptions();\r\n    \r\n    // Sort features by importance then region\r\n    const sortedFeatures = Object.keys(feature_explanations).sort((a, b) => {\r\n      if (topFeatures.includes(a) && !topFeatures.includes(b)) return -1;\r\n      if (!topFeatures.includes(a) && topFeatures.includes(b)) return 1;\r\n      \r\n      const regionA = a?.split('_')[0] || '';\r\n      const regionB = b?.split('_')[0] || '';\r\n      return regionA.localeCompare(regionB);\r\n    });\r\n  \r\n    return (\r\n      <div className=\"interpretation-container\">\r\n        <h3 className=\"section-title\">Neurophysiological Interpretation</h3>\r\n        \r\n        <div className=\"tabs\">\r\n          <button \r\n            className={`tab ${activeTab === 'features' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('features')}\r\n          >\r\n            Feature Analysis\r\n          </button>\r\n          <button \r\n            className={`tab ${activeTab === 'events' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('events')}\r\n          >\r\n            Experimental Events\r\n          </button>\r\n          <button \r\n            className={`tab ${activeTab === 'regions' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('regions')}\r\n          >\r\n            Brain Regions\r\n          </button>\r\n          <button \r\n            className={`tab ${activeTab === 'processing' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('processing')}\r\n          >\r\n            Methodology\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"tab-content\">\r\n          {activeTab === 'features' && (\r\n            <div className=\"features-panel\">\r\n              <div className=\"feature-list\">\r\n                <h4>Discriminative Features \r\n                  <button className=\"help-button\" onClick={() => setShowHelpModal(true)}>\r\n                    ?\r\n                  </button>\r\n                </h4>\r\n                \r\n                {sortedFeatures.length > 0 ? (\r\n                  <ul>\r\n                      {sortedFeatures.slice(0, 15).map(feature => (\r\n                      <li \r\n                          key={feature}\r\n                          className={`\r\n                          ${selectedFeature === feature ? 'selected' : ''} \r\n                          ${topFeatures.length > 0 && feature === topFeatures[0] ? 'most-important' : ''}\r\n                          `}\r\n                          onClick={() => setSelectedFeature(feature)}\r\n                      >\r\n                          {formatFeatureName(feature)}\r\n                          {topFeatures.length > 0 && feature === topFeatures[0] && (\r\n                            <span className=\"top-badge\">HIGHEST DISCRIMINATIVE POWER</span>\r\n                          )}\r\n                      </li>\r\n                      ))}\r\n                  </ul>\r\n                  ) : (\r\n                  <p>No feature data available</p>\r\n                  )}\r\n              </div>\r\n              \r\n              {selectedFeature && feature_explanations[selectedFeature] && (\r\n                <div className=\"feature-details\">\r\n                  <h4>{formatFeatureName(selectedFeature)}</h4>\r\n                  <div className=\"detail-card\">\r\n                    <div className=\"brain-image-container\">\r\n                      <BrainRegionsImage \r\n                        region={feature_explanations[selectedFeature].region} \r\n                      />\r\n                    </div>\r\n                    <div className=\"explanation\">\r\n                      <p><strong>Brain Region:</strong> {capitalize(feature_explanations[selectedFeature].region || 'Unknown')}</p>\r\n                      <p><strong>Neural Function:</strong> {feature_explanations[selectedFeature].region_function || 'Unknown'}</p>\r\n                      <p><strong>Measurement:</strong> {feature_explanations[selectedFeature].measure_description || 'Unknown'}</p>\r\n                      <p><strong>NIRS Signal:</strong> {feature_explanations[selectedFeature].wavelength_meaning || 'Unknown'}</p>\r\n                      <p><strong>Physiological Interpretation:</strong> {getPhysiologicalInterpretation(selectedFeature)}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          {activeTab === 'events' && (\r\n            <div className=\"events-panel\">\r\n              <h4>Experimental Task Descriptions</h4>\r\n              <p className=\"explanation-text\">Each event represents a distinct cognitive or motor task presented during the NIRS recording session.</p>\r\n              <table className=\"event-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Task Type</th>\r\n                    <th>Neurocognitive Description</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {Object.entries(event_descriptions).map(([event, description]) => (\r\n                    <tr key={event}>\r\n                      <td>{event}</td>\r\n                      <td>{description}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n              <p className=\"note\"><strong>Note:</strong> Task duration typically ranges from 10-30 seconds with inter-stimulus intervals of 15-45 seconds to allow hemodynamic response to return to baseline.</p>\r\n            </div>\r\n          )}\r\n          \r\n          {activeTab === 'regions' && (\r\n            <div className=\"regions-panel\">\r\n              <h4>Functional Neuroanatomy</h4>\r\n              <p className=\"explanation-text\">NIRS channels record hemodynamic activity from these cortical regions, each associated with specific cognitive and motor functions.</p>\r\n              <table className=\"region-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Cortical Region</th>\r\n                    <th>Primary Functions</th>\r\n                    <th>Role in Experimental Tasks</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {Object.entries(getEnhancedRegionDescriptions(region_descriptions)).map(([region, details]) => (\r\n                    <tr key={region}>\r\n                      <td>{capitalize(region)}</td>\r\n                      <td>{details.function || '-'}</td>\r\n                      <td>{details.examples || '-'}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n          \r\n          {activeTab === 'processing' && (\r\n            <div className=\"processing-panel\">\r\n              <h4>Methodological Details</h4>\r\n              <p className=\"explanation-text\">Understanding the signal processing pipeline is essential for proper interpretation of NIRS results.</p>\r\n              <div className=\"accordion\">\r\n                <div className=\"accordion-item\">\r\n                  <div className=\"accordion-header\">\r\n                     Signal Processing & Feature Extraction\r\n                  </div>\r\n                  <div className=\"accordion-content\">\r\n                    <ul>\r\n                      <li><strong>Temporal Filtering:</strong> Bandpass (0.01-0.5 Hz) to isolate hemodynamic response and remove physiological noise</li>\r\n                      <li><strong>Spatial Filtering:</strong> Channel-based signal quality assessment and selection</li>\r\n                      <li><strong>Feature Extraction:</strong> Amplitude, slope, and mean values across multiple time windows (early: 1-4s, middle: 5-10s, late: 11-15s)</li>\r\n                      <li><strong>Feature Selection:</strong> F-score ranking to identify most discriminative signal components</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"accordion-item\">\r\n                  <div className=\"accordion-header\">\r\n                     Machine Learning Analysis\r\n                  </div>\r\n                  <div className=\"accordion-content\">\r\n                    <ul>\r\n                      <li><strong>Classification Models:</strong> SVM (Support Vector Machine), Random Forest, LDA (Linear Discriminant Analysis), and Ridge Classifier</li>\r\n                      <li><strong>Validation:</strong> Block cross-validation to preserve temporal structure and prevent data leakage</li>\r\n                      <li><strong>Parameter Tuning:</strong> Grid search optimization for each classifier</li>\r\n                      <li><strong>Temporal Bias Check:</strong> Statistical tests against shuffled labels to ensure pattern robustness</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"accordion-item\">\r\n                  <div className=\"accordion-header\">\r\n                     Methodological Limitations\r\n                  </div>\r\n                  <div className=\"accordion-content\">\r\n                    <ul>\r\n                      <li><strong>Spatial Resolution:</strong> Limited to cortical surface (1-3cm depth, ~1cm lateral resolution)</li>\r\n                      <li><strong>Motion Artifacts:</strong> No advanced motion correction was applied</li>\r\n                      <li><strong>Sample Size:</strong> Cross-validation with limited number of trials may affect generalization</li>\r\n                      <li><strong>Signal Specificity:</strong> NIRS measures both neuronal and systemic vascular changes</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Help modal with enhanced feature name explanation */}\r\n        {showHelpModal && (\r\n          <div className=\"modal-overlay\" onClick={() => setShowHelpModal(false)}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n              <div className=\"modal-header\">\r\n                <h3>NIRS Feature Nomenclature</h3>\r\n                <button className=\"close-button\" onClick={() => setShowHelpModal(false)}></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <p>NIRS features follow this naming structure:</p>\r\n                <code>region_wavelength_timewindow_measure</code>\r\n                <p><strong>Example:</strong> <code>prefrontal_850_early_mean</code></p>\r\n                \r\n                <h4>Components:</h4>\r\n                <ul>\r\n                  <li><strong>Region:</strong> Cortical area (prefrontal, motor, temporal, etc.)</li>\r\n                  <li><strong>Wavelength:</strong> \r\n                    <ul>\r\n                      <li>850nm: Primarily sensitive to oxygenated hemoglobin (HbO)</li>\r\n                      <li>760nm: Primarily sensitive to deoxygenated hemoglobin (HbR)</li>\r\n                    </ul>\r\n                  </li>\r\n                  <li><strong>Time window:</strong> \r\n                    <ul>\r\n                      <li>early: 1-4 seconds post-stimulus</li>\r\n                      <li>middle: 5-10 seconds post-stimulus</li>\r\n                      <li>late: 11-15 seconds post-stimulus</li>\r\n                    </ul>\r\n                  </li>\r\n                  <li><strong>Measure:</strong> Statistical property (mean, slope, std, peak, etc.)</li>\r\n                </ul>\r\n                \r\n                <p><strong>Physiological meaning:</strong> These features capture different aspects of the hemodynamic response, which reflects neural activity through neurovascular coupling mechanisms.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\n/**\r\n * Get region function based on brain region name\r\n */\r\nfunction getRegionFunction(region) {\r\n  const functions = {\r\n    'prefrontal': 'Executive functions, working memory, attention control, and decision-making',\r\n    'central_frontal': 'Motor planning, inhibition, and high-level cognitive control',\r\n    'motor': 'Voluntary movement execution, motor sequence learning and control',\r\n    'lateral_frontal': 'Language production, verbal working memory, and cognitive flexibility',\r\n    'temporal': 'Auditory processing, language comprehension, and semantic memory',\r\n    'parietal': 'Spatial processing, attention, and sensorimotor integration'\r\n  };\r\n  \r\n  return functions[region] || 'Cortical processing related to cognitive and motor tasks';\r\n}\r\n\r\n/**\r\n * Get description for different measure and time window combinations\r\n */\r\nfunction getMeasureDescription(timeWindow, measureType) {\r\n  let timeDescription = '';\r\n  \r\n  switch(timeWindow) {\r\n    case 'early':\r\n      timeDescription = 'early response phase (1-4s post-stimulus)';\r\n      break;\r\n    case 'middle':\r\n      timeDescription = 'middle response phase (5-10s post-stimulus)';\r\n      break;\r\n    case 'late':\r\n      timeDescription = 'late response phase (11-15s post-stimulus)';\r\n      break;\r\n    default:\r\n      timeDescription = 'response period';\r\n  }\r\n  \r\n  const measures = {\r\n    'mean': `Average activation during ${timeDescription}`,\r\n    'slope': `Rate of change in hemodynamic response during ${timeDescription}`,\r\n    'peak': `Maximum amplitude of response during ${timeDescription}`,\r\n    'std': `Variability of hemodynamic signal during ${timeDescription}`\r\n  };\r\n  \r\n  return measures[measureType] || `Measurement of hemodynamic activity during ${timeDescription}`;\r\n}\r\n\r\n/**\r\n * Generate physiological interpretation based on feature characteristics\r\n */\r\nfunction getPhysiologicalInterpretation(featureName) {\r\n  const parts = featureName.split('_');\r\n  const region = parts[0];\r\n  const isOxy = parts[1] === '850';\r\n  const timeWindow = parts[2] || '';\r\n  \r\n  let interpretation = '';\r\n  \r\n  if (isOxy) {\r\n    interpretation = `Increased oxygenated hemoglobin (HbO) concentration reflects heightened neural activity in the ${region} region`;\r\n    if (timeWindow === 'early') {\r\n      interpretation += ', indicating initial neural recruitment during task processing.';\r\n    } else if (timeWindow === 'middle') {\r\n      interpretation += ', corresponding to the peak of the hemodynamic response during sustained task engagement.';\r\n    } else if (timeWindow === 'late') {\r\n      interpretation += ', representing continued neural processing or return to baseline after task completion.';\r\n    }\r\n  } else {\r\n    interpretation = `Changes in deoxygenated hemoglobin (HbR) concentration in the ${region} region`;\r\n    interpretation += ' typically show an inverse relationship with neural activity (decreasing with activation).';\r\n  }\r\n  \r\n  return interpretation;\r\n}\r\n\r\n/**\r\n * Create default event descriptions if none are provided\r\n */\r\nfunction createDefaultEventDescriptions() {\r\n  return {\r\n    'Finger Sequencing': 'Sequential finger tapping task that engages fine motor control and motor sequence learning circuits primarily in motor and premotor cortices',\r\n    'Simple Tapping': 'Basic rhythmic finger tapping that activates primary motor cortex with minimal cognitive load',\r\n    'Motor Imagery': 'Mental simulation of movement without physical execution, engaging similar neural circuits as actual movement but with reduced primary motor activation',\r\n    'Rest': 'Baseline condition with no specific task demands, used as reference for hemodynamic response analysis',\r\n    'Working Memory': 'Mental manipulation and temporary storage of information, primarily engaging prefrontal and parietal cortical networks',\r\n    'Bimanual Coordination': 'Coordinated movement of both hands, requiring interhemispheric communication and increased cognitive-motor integration'\r\n  };\r\n}\r\n\r\n/**\r\n * Enhance region descriptions with more scientific detail\r\n */\r\nfunction getEnhancedRegionDescriptions(existingDescriptions) {\r\n  const defaultDescriptions = {\r\n    'prefrontal': {\r\n      function: 'Executive function, working memory, decision-making, cognitive control',\r\n      examples: 'Active during complex problem-solving, task-switching, and inhibition tasks'\r\n    },\r\n    'motor': {\r\n      function: 'Movement planning and execution, motor sequence learning',\r\n      examples: 'Primary activation during finger tapping and coordination tasks'\r\n    },\r\n    'central_frontal': {\r\n      function: 'Cognitive control, response inhibition, action selection',\r\n      examples: 'Engaged during complex motor sequences and tasks requiring controlled responses'\r\n    },\r\n    'temporal': {\r\n      function: 'Auditory processing, language comprehension, semantic processing',\r\n      examples: 'Activated during verbal instructions and auditory stimuli processing'\r\n    },\r\n    'parietal': {\r\n      function: 'Spatial awareness, attention, sensorimotor integration',\r\n      examples: 'Important for visuomotor coordination and spatial aspects of tasks'\r\n    }\r\n  };\r\n  \r\n  // Merge existing descriptions with defaults\r\n  const enhanced = {...defaultDescriptions};\r\n  Object.entries(existingDescriptions).forEach(([region, details]) => {\r\n    if (!enhanced[region]) {\r\n      enhanced[region] = details;\r\n    } else {\r\n      enhanced[region] = {\r\n        ...enhanced[region],\r\n        function: details.function || enhanced[region].function,\r\n        examples: details.examples || enhanced[region].examples\r\n      };\r\n    }\r\n  });\r\n  \r\n  return enhanced;\r\n}\r\n\r\n/**\r\n * Format a feature name for display by capitalizing each word\r\n */\r\nfunction formatFeatureName(name) {\r\n  if (!name) return '';\r\n  return name\r\n    .split('_')\r\n    .map(word => capitalize(word))\r\n    .join(' ');\r\n}\r\n\r\n/**\r\n * Capitalize the first letter of a string\r\n */\r\nfunction capitalize(str) {\r\n  if (!str) return '';\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\nexport default InterpretationViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}